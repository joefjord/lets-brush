<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Let's Brush!</title>
    <style>
        /* Reset */
        margin, padding {
            0;
        }

        /* SVG Files */
        svg {
            width: 100%; 
            max-width: 200px; 
        }
        .st0 {
        fill:#EC008C;
        }
        .st1 {
        fill:black;
        }

         /* Styling headers */
            header {
                width: 100%;
                height: auto;
                min-height: 495px;
                background-image: url(images/LetsBrushMobileHeader.png);
                background-size: contain;
                background-repeat: no-repeat;
            }
    @media screen and (min-width: 431px) {
        header {
            height: auto;
                min-height: 900px;
            background-image: url(images/LetsBrushDesktopHeader.png);
            background-size: contain;
            background-repeat: no-repeat;
        }
        
    /* Your styles for screens 431px wide and above */
}
            
    </style>
</head>
<body>
    <header>
        
    </header> 
    <button id="startButton">Start</button>
    <audio id="audioElement" src="https://cdn.freesound.org/previews/723/723002_5674468-lq.mp3"></audio>

    <div id="svgContainer">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
            viewBox="0 0 557 423" style="enable-background:new 0 0 557 423;" xml:space="preserve">
            <path class="st0" d="M516.3,417H39.7C20.5,417,5,401.5,5,382.3V39.7C5,20.5,20.5,5,39.7,5h476.7C535.5,5,551,20.5,551,39.7v342.7
                C551,401.5,535.5,417,516.3,417z"/>
                <path class="st1" d="M485.4,51.2c0,93.4,0,186,0,278.7c2.6,0.5,5.1,0.7,7.5,1.4c13.6,3.9,21.9,16.7,20,30.6
        c-2,14.1-13.3,23.9-27.6,23.9c-111.8,0-223.7,0.4-335.5-0.2c-44.2-0.2-76.9-21.6-98.2-60c-10.1-18.1-13.8-38-12.4-58.6
        c3.5-51.4,41.2-92,88.3-101.8c9-1.9,18.1-3.2,27.3-2.1c13.7,1.7,23.9,13.9,23.6,27.9c-0.3,14.3-10.7,25.7-24.7,27.2
        c-6.6,0.7-13.4,1-19.7,2.9c-25.4,7.5-41.7,32.3-39.1,58.7c2.5,25.5,22.3,46.2,47.8,49.9c0.7,0.1,1.5,0.1,2.2,0.2
        c5.6,0.4,5.5,0.4,5.7-5.4c1.3-34.9,12.1-66.5,33.1-94.4c25.7-34.2,59.7-55.6,101.6-64c9.6-1.9,19.5-2.3,29.2-3.2
        c3.4-0.3,3.4-0.1,3.4-3.4c0-34.7,0-69.3,0-104c0-1.1,0-2.1,0-3.9c1.1,1,1.8,1.6,2.5,2.3c11.9,11.9,23.8,23.8,35.7,35.7
        c1.4,1.4,2.4,1.6,4.2,0.6c14.4-8.2,30-11.7,46.6-10.7c12.7,0.8,24.7,4.3,35.8,10.6c2,1.2,3,0.8,4.6-0.7c11.9-12,23.9-24,35.9-35.9
        C483.7,52.7,484.3,52.2,485.4,51.2z M359.5,162.4c0.1-0.2,0.2-0.4,0.2-0.7c0-8.5,0.1-17,0.1-25.4c0-1.5-0.8-1.5-2-1.4
        c-7.8,0.8-13.1,8.1-11.9,16.4C346.9,157.7,353.6,163.3,359.5,162.4z M373.5,148.6c0,3.9,0.1,7.8,0,11.7c-0.1,1.9,0.7,2.5,2.5,2.2
        c6.6-1,11.6-6.9,11.6-13.9c0-7-5-12.7-11.7-13.8c-1.8-0.3-2.4,0.1-2.4,2C373.6,140.8,373.5,144.7,373.5,148.6z M429.5,148.7
        c0-4,0-8,0-12c0-1.5-0.4-2.1-2-1.9c-6.7,0.8-12,6.8-12.1,13.7c0,6.9,5.3,13.1,11.8,14c1.6,0.2,2.3-0.2,2.3-1.9
        C429.5,156.7,429.5,152.7,429.5,148.7z M443.6,162.5c7.2,0.6,14-6.2,13.9-13.8c-0.1-7.7-6.7-14.3-13.9-13.6
        C443.6,144.1,443.6,153.2,443.6,162.5z"/>
            <!-- Additional paths -->
        </svg>
</div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
    let isAnimating = false; // Flag to prevent animation restart while running

    document.getElementById('startButton').addEventListener('click', function() {
        if (isAnimating) return; // Exit if an animation is currently in progress
        isAnimating = true; // Set flag to indicate animation is in progress

        // Start playing the audio
        const audioElement = document.getElementById('audioElement');
        audioElement.currentTime = 0; // Reset audio to start to ensure it plays from the beginning
        audioElement.play();

        document.getElementById('svgContainer').style.visibility = 'visible'; // Ensure the SVG is visible

        let changeCount = 0; // Initialize counter for the color changes
        const st0Element = document.querySelector('.st0'); // Select the .st0 element
        const originalColor = st0Element.style.fill; // Store the original color to reset later
        const colors = ['#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF']; // Color cycle
        
        // Function to change color
        function changeColor() {
            if (changeCount < 4) { // Check to ensure we only change colors four times
                st0Element.style.fill = colors[changeCount];
                changeCount++;
            } else {
                clearInterval(colorChangeInterval); // Clear the color changing interval
                startFlashing(); // Start flashing after the last color change
            }
        }

        // Start changing colors every 30 seconds
        const colorChangeInterval = setInterval(changeColor, 30000);
        changeColor(); // Invoke immediately to change without waiting

        // Function to start flashing
        function startFlashing() {
            let flashCount = 0;
            const flashInterval = setInterval(() => {
                st0Element.style.fill = st0Element.style.fill === 'none' ? colors[changeCount - 1 % colors.length] : 'none';
                flashCount++;
                if (flashCount >= 10) { // 10 toggles for 5 flashes
                    clearInterval(flashInterval); // Stop flashing
                    st0Element.style.fill = originalColor; // Reset to the original color
                    isAnimating = false; // Reset flag to allow animation to be restarted
                }
            }, 200); // Flash every 200ms
        }
    });
});
    </script>
</body>
</html>