<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Let's Brush!</title>
    <style>
        /* Reset */
        * {
            margin: 0;
            padding: 0;
        }

        main {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* SVG Files */
        svg {
            display: block;
            width: 100%; 
            max-width: 250px;
            margin: 0 auto;
            padding-bottom: 25px;
        }

        .svg-wrapper {
            width: fit-content;
            margin: 0 auto;
            padding: 10px 0 10px 0; 
        }

        #startButton svg {
            display: block;
            fill: black; 
            max-width: 100px;
            margin: 0 auto;
        }

        #startButton:hover svg {
            fill: #a900ec;
        }

        /* Styling headers */
        header {
            width: 100%;
            height: auto;
        }

        @media screen and (min-width: 431px) {
            main {
                display: flex;
                flex-direction: row; /* Align children side by side */
                justify-content: center; /* Center the children horizontally */
                align-items: center; /* Align the children vertically */
            }

            header {
                width: 100%;
                height: auto;
            }

            #headerImage {
                width: 100%;
                height: auto;
            }

            .svg-wrapper, #startButton {
                width: auto;
                max-width: none; /* Reset or adjust max-width as needed */
                margin: 0 10px; /* Add some space between the elements */
                display: flex;
                justify-content: center;
                align-items: center;
            }

            svg {
                width: 100%;
                max-width: 400px; /* Adjust width as needed for your design */
                margin-top: 50px;
                padding-right: 25px; /* Add some space between the elements on desktop */
            }

            #startButton svg {
                /* Ensure the start button SVG is not stretched or shrunk */
                width: 100px; /* Adjust based on the actual size you want */
            }
        }
    </style>
</head>
<body>
    <header>
        <img id="headerImage" src="images/LetsBrushMobileHeader.png" alt="Header Image" style="width: 100%; height: auto;">
    </header> 
    <main>
        <div class="svg-wrapper">   
            <button id="startButton" style="background:none; border:none; padding:0;">
                <!-- SVG content for the start button -->
            </button>
        </div>

        <audio id="audioElement"></audio>

        <div id="videoContainer" class="video-wrapper">
            <!-- This is where the random video will be loaded -->
        </div>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let isPlaying = false; // Flag to prevent video restart while playing

            const videos = [
                'images/bowAnimation.mp4', // Path to your first video file
                'images/butterflyAnimation.mp4', // Path to your second video file
                'images/coneAnimation.mp4', // Path to your third video file
                'images/dogAnimation.mp4'  // Path to your fourth video file
            ];

            const audioFiles = [
                'audio/facts.mp3', // Path to your first audio file
                'audio/hattieStory.mp3', // Path to your second audio file
                'audio/jokes.mp3', // Path to your third audio file
                'audio/CarolineEmme2.mp3'  // Path to your fourth audio file
            ];

            document.getElementById('startButton').addEventListener('click', function() {
                if (isPlaying) return; // Exit if a video is currently playing
                isPlaying = true; // Set flag to indicate video is playing

                // Load random video
                const randomVideo = videos[Math.floor(Math.random() * videos.length)];
                console.log(`Loading video: ${randomVideo}`);
                document.getElementById('videoContainer').innerHTML = `<video id="videoElement" controls><source src="${randomVideo}" type="video/mp4"></video>`;
                const videoElement = document.getElementById('videoElement');

                // Add error event listener to the video element
                videoElement.addEventListener('error', function(event) {
                    console.error('Error loading video:', event);
                });

                // Load random audio
                const randomAudio = audioFiles[Math.floor(Math.random() * audioFiles.length)];
                console.log(`Loading audio: ${randomAudio}`);
                const audioElement = document.getElementById('audioElement');
                audioElement.src = randomAudio;
                audioElement.currentTime = 0; // Reset audio to start to ensure it plays from the beginning

                // Play video and audio
                videoElement.play().catch(error => console.error('Error playing video:', error));
                audioElement.play().catch(error => console.error('Error playing audio:', error));

                // Mark video as finished when it ends
                videoElement.addEventListener('ended', function() {
                    isPlaying = false;
                });
            });
        });

        function checkWindowSize() {
            var imgSrc = window.innerWidth > 430 ? "images/LetsBrushDesktopHeader.png" : "images/LetsBrushMobileHeader.png";
            document.getElementById('headerImage').src = imgSrc;
        }
    
        // Run the function on initial load
        checkWindowSize();
    
        // Add the event listener for window resize
        window.addEventListener('resize', checkWindowSize);
    </script>
</body>
</html>
